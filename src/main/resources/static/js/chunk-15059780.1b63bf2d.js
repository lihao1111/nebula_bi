(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15059780"],{1359:function(e,t,a){},4225:function(e,t,a){},9459:function(e,t,a){"use strict";var n=a("4225"),l=a.n(n);l.a},afda:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"chart-container"},[a("el-col",{staticClass:"toolbar1",staticStyle:{height:"50px","padding-left":"10px","padding-top":"5px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"内容类型："}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择内容类型"},model:{value:e.contentType,callback:function(t){e.contentType=t},expression:"contentType"}},e._l(e.typeMapArr,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"所属CP："}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择CP"},model:{value:e.contentCP,callback:function(t){e.contentCP=t},expression:"contentCP"}},e._l(e.cps,function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"内容名称："}},[a("el-input",{attrs:{size:"small"},model:{value:e.contentKey,callback:function(t){e.contentKey=t},expression:"contentKey"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.getCollectDetail}},[e._v("查询")])],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:e.handleExport}},[e._v("导出")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadTable,expression:"loadTable"}],staticStyle:{width:"100%","padding-top":"10px"},attrs:{data:e.collectDetails,"highlight-current-row":"",stripe:"","header-cell-style":{color:"#3a8ee6"}}},[a("el-table-column",{attrs:{prop:"id",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"media_id",label:"内容ID",align:"center"}}),a("el-table-column",{attrs:{prop:"media_name",label:"内容名称",align:"center"}}),a("el-table-column",{attrs:{prop:"media_type",label:"内容类型",align:"center",formatter:e.formaterText}}),a("el-table-column",{attrs:{prop:"cp_name",label:"提供方名称",align:"center"}}),a("el-table-column",{attrs:{prop:"count",label:"收藏数量",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#1d8ce0","font-weight":"bold"}},[e._v(e._s(t.row.count))])]}}])})],1),a("el-col",{attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"","page-size":e.pageSize,total:e.totalSize,layout:"prev, pager, next"},on:{"current-change":e.handleCurrentChange}})],1)],1)},l=[],o=a("4ec3"),i={data:function(){return{loadTable:!1,tApp:"",collectDetails:[],cps:[],typeMap:{1:"纯音乐",2:"视频音乐",3:"电影",4:"电视剧"},typeMapArr:[{id:1,name:"纯音乐"},{id:2,name:"视频音乐"},{id:3,name:"电影"},{id:4,name:"电视剧"}],contentCP:"",contentType:"",contentKey:"",totalSize:0,curpage:1,pageSize:20}},methods:{handleCurrentChange:function(e){this.curpage=e,this.getCollectDetail()},formaterText:function(e,t,a){return this.typeMap[a]},getCollectDetail:function(){var e=this;this.loadTable=!0,Object(o["p"])({platFormId:this.tApp.id,contentCP:this.contentCP,contentType:this.contentType,contentKey:this.contentKey,currentPage:this.curpage,pageSize:this.pageSize}).then(function(t){var a=t.businessCode,n=t.resultSet,l=t.count;if(e.loadTable=!1,"unauthenticated"===a)return e.$message({message:"未授权，请联系管理员！",type:"error"}),!1;"success"!==a?e.$message({message:"收藏数据加载失败，请联系管理员！",type:"error"}):(e.collectDetails=n,e.totalSize=l)})},handleExport:function(){if(0===this.tUserList.length)return this.$message({message:"表格无数据，导出异常！",type:"warning"}),!1},getAllCPS:function(){var e=this;Object(o["o"])().then(function(t){var a=t.businessCode,n=t.resultSet;"success"!==a?e.$message({message:"CP数据加载失败，请联系管理员！",type:"error"}):e.cps=n})}},created:function(){this.tApp=JSON.parse(sessionStorage.getItem("tApp")),this.getAllCPS(),this.getCollectDetail()},mounted:function(){},updated:function(){}},r=i,c=(a("9459"),a("bd88"),a("2877")),s=Object(c["a"])(r,n,l,!1,null,"ca0f1b42",null);t["default"]=s.exports},bd88:function(e,t,a){"use strict";var n=a("1359"),l=a.n(n);l.a}}]);